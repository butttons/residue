---
import { BookOpen, Cog, List, Workflow } from "lucide-astro";

type Props = {
	currentPath: string;
};

const { currentPath } = Astro.props;

const links = [
	{ href: "/docs", label: "Getting Started", icon: BookOpen },
	{ href: "/docs/how-it-works", label: "How It Works", icon: Workflow },
	{ href: "/docs/reference", label: "Reference", icon: Cog },
];

function isActive(href: string, current: string): boolean {
	const normalized = current.replace(/\/$/, "");
	const normalizedHref = href.replace(/\/$/, "");
	return normalized === normalizedHref;
}
---

<nav class="space-y-1">
    {links.map((link) => {
        const active = isActive(link.href, currentPath);
        return (
            <a
                href={link.href}
                class:list={[
                    "flex items-center gap-2.5 px-3 py-2 rounded-lg text-sm transition-colors",
                    active
                        ? "bg-amber-500/10 text-amber-400 border border-amber-500/20"
                        : "text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800/50",
                ]}
            >
                <link.icon class="w-4 h-4 shrink-0" />
                <span>{link.label}</span>
            </a>
        );
    })}
</nav>
